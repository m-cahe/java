<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

	<h1>ajax 실습</h1>


	<div id='member_table'></div>
	<button id="btn">서버 요청</button>

	<!--  javascript -->




	<script src="js/jquery-3.5.1.min.js"></script>

	<script>
		//web 페이지 로드가 완료되었을때 실행하는 기능
		$(function() {
			$('button').on('click', function() {
				$.ajax({
					url : 'AjaxServlet2',
					dataType : 'json',
					success : function(list1) {

						console.log(list1);
						let html = '<table border="1">';
						html += '<tr><th>이름</th><th>나이</th><th>직업</th>';
						for (let i = 0; i < list1.length; i++) {
							html += '<tr>';
							html += `<td>${list1[i].name}</td>`;
							html += `<td>${list1[i].age}</td>`;
							html += `<td>${list1[i].job}</td>`;
							html += '</tr>';

						}
						html += '</html>';
						$('#member_table').html(html);
					}

				});
			});

		});
	</script>
</body>
</html>